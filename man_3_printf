.TH _PRINTF 3 "January 2026" "Holberton School" "Library Functions Manual"
.SH NAME
_printf \- print formatted output to standard output

.SH SYNOPSIS
.B #include "main.h"
.PP
.BI "int _printf(const char *" format ", ...);"

.SH DESCRIPTION
The
.B _printf()
function writes formatted output to the standard output stream (stdout).
It is a simplified implementation inspired by
.BR printf (3).

The
.I format
string contains ordinary characters and conversion directives.
A conversion directive begins with
.B %
and may include, in this order: flags, field width, precision, a length modifier,
and a conversion specifier.

This project supports a subset of the standard functionality and several custom
specifiers described below.

.SH CONVERSION SPECIFIERS
.TP
.B %c
Print a single character.
.TP
.B %s
Print a string. If the argument is NULL, it prints
.BR "(null)" .
.TP
.B %%
Print a literal percent sign.
.TP
.B %d , %i
Print a signed decimal integer.
.TP
.B %u
Print an unsigned decimal integer.
.TP
.B %o
Print an unsigned octal integer.
.TP
.B %x , %X
Print an unsigned hexadecimal integer (lowercase for
.BR %x ,
uppercase for
.BR %X ).
.TP
.B %p
Print a pointer address in hexadecimal, prefixed with
.BR 0x .
If the pointer is NULL, it prints
.BR "(nil)" .
.PP
Custom specifiers:
.TP
.B %b
Print an unsigned integer in binary.
.TP
.B %S
Print a string, but non-printable characters (ASCII 1..31 or >= 127) are printed as
.BR "\\xHH" ,
where
.B HH
is the uppercase hexadecimal value (always two digits).
.TP
.B %r
Print a string in reverse.
.TP
.B %R
Print a string encoded using rot13.

.SH FLAGS
The following flags are handled for non-custom numeric conversions (such as
.BR %d ,
.BR %i ,
.BR %u ,
.BR %o ,
.BR %x ,
.BR %X ):
.TP
.B +
For signed conversions, always print a sign.
.TP
.B " " (space)
For signed conversions, print a leading space if no sign is printed.
.TP
.B #
Use an alternate form: prefix
.B 0
for octal and
.B 0x / 0X
for hexadecimal (when the value is nonzero).

The
.B 0
flag enables zero-padding and
.B -
left-justifies within the field width.

.SH FIELD WIDTH
Field width is supported as a number (for example
.BR %8d )
or as
.BR * ,
which reads the width from the next argument.
A negative width is treated as left-justification.

.SH PRECISION
Precision is supported using a dot followed by a number (for example
.BR %.5d )
or by
.BR * .
For numeric conversions, precision controls the minimum number of digits.
If precision is zero and the value is zero, nothing is printed for the number
(with the standard octal
.B #
exception producing a single
.BR 0 ).

.SH LENGTH MODIFIERS
The following length modifiers are handled for:
.BR d ,
.BR i ,
.BR u ,
.BR o ,
.BR x ,
.BR X :
.TP
.B l
Use long / unsigned long.
.TP
.B h
Use short / unsigned short.

.SH RETURN VALUE
On success,
.B _printf()
returns the number of characters printed (excluding the terminating null byte).
If
.I format
is NULL, or if the format string ends with a single
.B %
(with no specifier), it returns
.BR -1 .

.SH NOTES
This implementation uses a local output buffer (1024 bytes) to reduce the number
of system calls to
.BR write (2).

.SH EXAMPLES
.nf
_printf("Hello %s\\n", "world");
_printf("%b\\n", 98);
_printf("%S\\n", "Best\\nSchool");
_printf("Value: %+8.4d\\n", 42);
_printf("ptr=%p\\n", (void *)0);
_printf("%r %R\\n", "abcd", "Hello");
.fi

.SH SEE ALSO
.BR printf (3),
.BR write (2)

.SH AUTHORS
Written for the Holberton School printf project.
